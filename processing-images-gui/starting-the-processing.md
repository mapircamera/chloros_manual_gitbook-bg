# Стартиране на обработката

След като сте импортирали изображенията, маркирали калибрационните цели и конфигурирали настройките на проекта, сте готови да започнете обработката. Тази страница ви води през стартирането на процеса на обработка Chloros.

## Контролен списък за предварителна обработка

Преди да натиснете бутона „Старт“, проверете дали всичко е готово:

* [ ] **Импортирани файлове** – Всички изображения се показват в браузъра на файлове
* [ ] **Маркирани целеви изображения** – Колоната „Цел“ е проверена за калибрационни изображения
* [ ] **Камерите са разпознати** - Колоната „Модел на камерата“ показва правилните камери
* [ ] **Настройките са конфигурирани** - Настройките на проекта са прегледани и коригирани
* [ ] **Индексите са избрани** - Желаните мултиспектрални индекси са добавени (ако е необходимо)
* [ ] **Форматът за експортиране е избран** - Форматът на изхода е подходящ за вашия работен процес

{% hint style=&quot;info&quot; %}
**Съвет**: Кликнете върху няколко изображения в браузъра на файлове, за да проверите дали са заредени правилно преди обработката.
{% endhint %}

***

## Стартиране на обработката

### Намерете бутона „Старт“

Бутонът „Старт/Възпроизвеждане“ се намира в горната лента на Chloros:

* Позиция: В горната централна част на прозореца
* Икона: **Бутон „Възпроизвеждане/Старт“** <img src="../.gitbook/assets/image (2).png" alt="" data-size="line">
* Статус: Бутонът е активиран (светъл), когато е готов за обработка

### Кликнете, за да започнете

1. Кликнете върху **бутона „Play/Start“** в горната лента
2. Обработката започва веднага
3. Бутонът се деактивира (потъмнява) по време на обработката
4. Лентата за напредък се актуализира, показвайки статуса на обработката

{% hint style=&quot;success&quot; %}
**Обработката започна**: След като кликнете, Chloros автоматично обработва всички етапи на обработката – откриване на целта, дебайеринг, калибриране, изчисляване на индекса и експортиране.
{% endhint %}

***

## Разбиране на режимите на обработка

Chloros работи в два различни режима на обработка в зависимост от вашата лицензия:

### Свободен режим (последователна обработка)

**Достъпен за всички потребители**

**Как работи:**

* Обработва изображенията едно по едно, последователно.
* Еднонишкова операция.
* По-ниска употреба на памет.

**Индикаторът за напредък показва 2 етапа:**

1. **Откриване на целта** – сканиране за калибриране на целите.
2. **Обработка** – прилагане на калибриране и експортиране на изображения.

**Време за обработка:**

* Много по-бавно от Chloros+ паралелен режим
* Подходящ за малки до средни набори от данни (&lt; 200 изображения)

### Chloros+ режим (паралелна обработка)

**Изисква Chloros+ лиценз**

**Как работи:**

* Обработва няколко изображения едновременно
* Многонишкова работа (до 16 паралелни работници)
* Използва няколко CPU ядра
* Опционално GPU (CUDA) ускорение с графични карти NVIDIA

**Индикаторът за напредък показва 4 етапа:**

1. **Откриване** - Намиране на калибрационни цели
2. **Анализиране** - Проверка на метаданните на изображението и подготовка на тръбопровода
3. **Калибриране** – Прилагане на корекции и калибриране
4. **Експортиране** – Запазване на обработените изображения и индекси

**Взаимодействие с индикатора за напредък:**

* **Поставете курсора на мишката** върху индикатора, за да видите подробен панел с 4 етапа
* **Кликнете** върху индикатора за напредък, за да фиксирате панела на място
* **Кликнете отново**, за да разблокирате и скриете панела

**Време за обработка:**

* Значително по-бързо от свободния режим
* Мащабира се според броя на ядрата на процесора
* Ускорението на графичния процесор допълнително подобрява скоростта

{% hint style=&quot;info&quot; %}
**Chloros+ Скорост**: Паралелната обработка може да бъде 5-10 пъти по-бърза от последователния режим за големи масиви от данни. Проект с 500 изображения, който отнема 2 часа в безплатния режим, може да бъде завършен за 15-20 минути с Chloros+.
{% endhint %}

***

## Какво се случва по време на обработката

### Етап 1: Откриване на целта

**Какво прави Chloros:**

* Сканира маркираните целеви изображения (или всички изображения, ако няма маркирани)
* Идентифицира 4-те калибрационни панела във всяка цел
* Извлича стойностите на отражателната способност от целевите панели
* Записва времевите отметки на целите за планиране на калибрирането

**Продължителност:** 1-30 секунди (с маркирани цели), 5-30+ минути (без маркирани)

### Етап 2: Дебайеринг (RAW конверсия)

**Какво прави Chloros:**

* Конвертира RAW данни с Bayer модел в пълни RGB изображения
* Прилага висококачествен алгоритъм за демозаициране
* Запазва максималното качество и детайлност на изображението

**Продължителност:** Варира в зависимост от броя на изображенията и скоростта на процесора

### Етап 3: Калибриране

**Какво прави Chloros:**

* **Корекция на винет**: Премахва затъмняването на обектива по краищата
* **Калибриране на отражателната способност**: Нормализира, използвайки целеви стойности на отражателната способност
* Прилага корекции във всички ленти/канали
* Използва подходяща калибрационна цел за всяко изображение въз основа на времевата марка

**Продължителност:** По-голямата част от времето за обработка

### Етап 4: Изчисляване на индекс

**Какво прави Chloros:**

* Изчислява конфигурираните мултиспектрални индекси (NDVI, NDRE и др.)
* Прилага математически операции върху калибрираните изображения
* Генерира индексни изображения за всеки избран индекс

**Продължителност:** Няколко секунди на изображение

### Етап 5: Експортиране

**Какво прави Chloros:**

* Запазва калибрираните изображения в избрания формат
* Експортира индексни изображения с конфигурирани LUT цветове
* Записва файлове в подпапки на модела на камерата
* Запазва оригиналните имена на файловете с разширения

**Продължителност:** Варира според формата на експортиране и размера на файла

***

## Поведение при обработка

### Автоматичен процес на обработка

След стартиране целият процес се изпълнява автоматично:

* Не се изисква взаимодействие от страна на потребителя
* Всички конфигурирани стъпки се изпълняват последователно
* Актуализации на напредъка се показват в реално време

### Използване на компютъра по време на обработката

**Свободен режим:**

* Сравнително ниско използване на CPU (еднонишково)
* Компютърът остава отзивчив за други задачи
* Безопасно е да минимизирате Chloros и да работите в други приложения

**Chloros+ Паралелен режим:**

* Висока употреба на CPU (многонишкова, до 16 ядра)
* С GPU ускорение: Висока употреба на GPU
* Компютърът може да бъде по-малко отзивчив по време на обработката
* Избягвайте да стартирате други задачи, изискващи интензивна употреба на CPU

{% hint style=&quot;warning&quot; %}
**Съвет за производителност**: За най-добра производителност на Chloros+, затворете другите приложения и оставете Chloros да използва пълните системни ресурси.
{% endhint %}

### Обработката не може да бъде прекъсната

**Важни ограничения:**

* След като започне, обработката не може да бъде преустановена.
* Можете да отмените обработката, но напредъкът ще бъде загубен.
* Частичните резултати не се запазват.
* При отмяна трябва да започнете отначало.

**Съвет за планиране:** За много големи проекти обмислете обработката на партиди или използването на CLI за по-добър контрол.

***

## Наблюдение на обработката

Докато обработката тече, можете да:

* **Наблюдавате лентата за напредък** – вижте общия процент на завършеност
* **Преглеждате текущия етап** – откриване, анализ, калибриране или експортиране
* **Проверявате раздела с логове** – вижте подробни съобщения и предупреждения за обработката
* **Преглеждате завършените изображения** – някои експортирани файлове могат да се появят по време на обработката

За подробна информация относно наблюдението вижте [Наблюдение на обработката](monitoring-the-processing.md).

***

## Отмяна на обработката

Ако трябва да спрете обработката:

### Как да отмените

1. Намерете **бутона „Спри/Отмени“** (замества бутона „Старт“ по време на обработката)
2. Кликнете върху бутона „Спри“
3. Обработката спира незабавно
4. Частичните резултати се изтриват

### Кога да отмените

**Валидни причини за отмяна:**

* Установено е, че са използвани неправилни настройки
* Забравили сте да маркирате целевите изображения
* Импортирани са грешни изображения
* Системата работи твърде бавно или не отговаря

**След отмяната:**

* Прегледайте и поправете всички проблеми
* Настройте настройките според нуждите
* Рестартирайте обработката отначало
* За най-чисто преживяване затворете напълно Chloros и рестартирайте

{% hint style=&quot;warning&quot; %}
**Без частични резултати**: Отмяната изтрива целия напредък. Chloros не запазва частично обработени изображения.
{% endhint %}

***

## Оценки за времето за обработка

Действителното време за обработка варира значително в зависимост от:

* Брой изображения
* Разделителна способност на изображенията
* RAW срещу JPG формат на входните данни
* Режим на обработка (Free срещу Chloros+)
* Скоростта на процесора и броя на ядрата
* Наличността на графичен процесор (само Chloros+)
* Броят на индексите за изчисляване
* Сложността на формата за експортиране

### Приблизителни оценки (Chloros+, 12MP изображения, модерен процесор)

| Брой изображения | Безплатен режим | Chloros+ (CPU) | Chloros+ (GPU) |
| ----------- | --------- | -------------- | -------------- |
| 50 изображения   | 15-20 мин | 5-8 мин        | 3-5 мин        |
| 100 изображения  | 30-40 мин | 10-15 мин      | 5-8 мин        |
| 200 изображения  | 1-1,5 ч | 20-30 мин      | 10-15 мин      |
| 500 изображения  | 2-3 часа   | 45-60 мин      | 20-30 мин      |
| 1000 изображения | 4-6 часа   | 1,5-2 часа      | 40-60 мин      |

{% hint style=&quot;info&quot; %}
**Първо изпълнение**: Първоначалната обработка може да отнеме повече време, тъй като Chloros създава кеш памети и профили. Последващата обработка на подобни набори от данни ще бъде по-бърза.
{% endhint %}

***

## Чести проблеми при стартиране

### Бутонът „Старт“ е деактивиран (потъмнял)

**Възможни причини:**

* Няма импортирани изображения
* Бакендът не е стартирал напълно
* Предишната обработка все още тече
* Проектът не е напълно зареден

**Решения:**

1. Изчакайте бекендът да се инициализира напълно (проверете иконата в главното меню)
2. Проверете дали изображенията са импортирани в браузъра на файлове
3. Рестартирайте Chloros, ако бутонът остава деактивиран
4. Проверете лога за отстраняване на грешки за съобщения за грешки

### Обработката започва, но веднага се проваля

**Възможни причини:**

* Няма валидни изображения в проекта
* Повредени файлове с изображения
* Недостатъчно дисково пространство
* Недостатъчна памет (RAM)

**Решения:**

1. Проверете Debug Log <img src="../.gitbook/assets/icon_log.JPG" alt="" data-size="line"> за съобщения за грешки
2. Проверете наличното дисково пространство
3. Опитайте да обработите по-малък поднабор от изображения
4. Проверете дали изображенията не са повредени

### Предупреждение „Не са открити цели“

**Възможни причини:**

* Забравили сте да маркирате целевите изображения
* Целевите изображения не съдържат видими цели
* Настройките за откриване на цели са прекалено строги

**Решения:**

1. Прегледайте [Избор на целеви изображения](choosing-target-images.md)
2. Маркирайте подходящите изображения в колоната „Цел“
3. Проверете дали целите са видими в маркираните изображения
4. Ако е необходимо, коригирайте настройките за откриване на цели

***

## Съвети за успешна обработка

### Преди да започнете

1. **Първо тествайте с малка подгрупа** - Обработете 10-20 изображения, за да проверите настройките
2. **Проверете наличното дисково пространство** - Уверете се, че имате 2-3 пъти повече свободно място от размера на набора от данни
3. **Затворете ненужните приложения** - Освободете системни ресурси
4. **Проверете целевите изображения** - Прегледайте маркираните цели, за да се уверите в качеството
5. **Запазете проекта** - Проектът се запазва автоматично, но е добра практика да го запазвате ръчно.

### По време на обработката

1. **Избягвайте преминаването на системата в режим на заспиване** - Деактивирайте режимите за пестене на енергия.
2. **Дръжте Chloros на преден план** - Или поне видим в лентата с задачи.
3. **Проверявайте от време на време напредъка** - Проверявайте за предупреждения или грешки.
4. **Не зареждайте други тежки приложения** - особено в паралелен режим Chloros+

### Chloros+ GPU ускорение

Ако използвате NVIDIA GPU ускорение:

1. Актуализирайте драйверите на NVIDIA до най-новата версия
2. Уверете се, че GPU има 4GB+ VRAM
3. Затворете приложенията, които натоварват GPU (игри, редактиране на видео)
4. Следете температурата на GPU (уверете се, че охлаждането е адекватно)

***

## Следващи стъпки

След като обработката е започнала:

1. **Следете напредъка** - Вижте [Следене на обработката](monitoring-the-processing.md)
2. **Изчакайте да приключи** – Обработката се изпълнява автоматично.
3. **Прегледайте резултатите** – Вижте [Завършване на обработката](finishing-the-processing.md).

За информация какво да правите по време на обработката, вижте [Наблюдение на обработката](monitoring-the-processing.md).
